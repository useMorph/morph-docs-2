---
title: 'データ取得の仕組み'
---

MDXファイルからMorphのワークスペース内のデータを参照する方法には、[データコンポーネント](/data-application/ja/data-component-table)の使用 と [データ取得関数](data-application/ja/morph-data-getjson) の2つがあります。

<Note>データコンポーネントを使うことを強くおすすめします。データアプリで必要とされるコンポーネントが網羅されており、積極的にメンテナンスされています。</Note>



いずれの場合にも、データ取得のリクエストは、Morphの内部APIによって処理されます。リクエストを受け取ると、SQLまたはPythonを実行し、その結果を返します。レスポンスの種類は以下のパターンがあります。

1. **JSON** ... SQLのクエリ結果や、Pythonの関数の返り値がDataFrameやディクショナリーの場合はJSONとして取得することができます。

2. **HTML** ... Plotlyのグラフなど、Pythonの関数の返り値がHTMLの場合はHTML文字列として取得することができます。

3. **Image** ... matbplotlibのグラフなど、Pythonの関数の返り値が画像の場合は、Base64形式の文字列として、画像を取得することができます。

4. **Streaming** ... Open AI APIのレスポンスなど、Pythonの関数の返り値がストリーミングデータの場合は、ストリーミングデータとして取得することができます。

テーブル表示や、Plotlyで描画したグラフの表示など、用意されたコンポーネントが使える場合はそれらを使うのをおすすめします。

少し複雑な処理を行いたい場合に、データ取得関数を用いるのを検討してください。

<Warning>データ取得関数は、返り値がJSONの場合のみ使用することができます。</Warning>
